webpackJsonp([2],{164:function(t,e,n){function r(t){n(259)}var a=n(25)(n(205),n(287),r,"data-v-63d1c0d4",null);t.exports=a.exports},183:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"buttongroup",props:["items","title","active","disabled"],data:function(){return{nowActive:""}},computed:{},methods:{change:function(t){this.$emit("change",t)}},mounted:function(){},beforeCreate:function(){}}},184:function(t,e,n){e=t.exports=n(161)(!0),e.push([t.i,".my-buttongroup[data-v-598ca610]{background-color:#fff;padding:8px}.menu-btn[data-v-598ca610]{margin-left:0;margin-right:0;min-width:75px;height:50px;margin:0;font-size:16px;border-radius:0;padding-top:5px;color:#aaa;border-style:solid;border-width:0 0 2px;border-color:transparent}.menu-active[data-v-598ca610]{color:#000;border-style:solid;border-width:0 0 2px;border-color:#000}","",{version:3,sources:["E:/program/tujingwang1/program/src/components/Buttongroup.vue"],names:[],mappings:"AACA,iCAEM,sBAAuB,AACvB,WAAa,CAClB,AAYD,2BACM,cAAiB,AACjB,eAAkB,AAClB,eAAgB,AAChB,YAAa,AACb,SAAY,AACZ,eAAgB,AAChB,gBAAmB,AACnB,gBAAiB,AACjB,WAAe,AACf,mBAAmB,AAAC,qBAA8B,AAAC,wBAA+B,CACvF,AASD,8BACM,WAAY,AACZ,mBAAmB,AAAC,qBAA8B,AAAC,iBAAmB,CAC3E",file:"Buttongroup.vue",sourcesContent:["\n.my-buttongroup[data-v-598ca610] {\n\n      background-color: #fff;\n      padding: 8px;\n}\n\n  /* .menuButton {\n      height:50px;\n      padding:0px 35px;\n  } */\n\n  /* .md-body-2 {\n      font-size: 15px;\n      font-weight: 300;\n      letter-spacing: .01em;\n  } */\n.menu-btn[data-v-598ca610] {\n      margin-left: 0px;\n      margin-right: 0px;\n      min-width: 75px;\n      height: 50px;\n      margin: 0px;\n      font-size: 16px;\n      border-radius: 0px;\n      padding-top: 5px;\n      color: #aaaaaa;\n      border-style:solid; border-width: 0px 0px 2px 0px; border-color: rgba(0, 0, 0, 0);\n}\n\n  /* .menu-btn-o {\n      color: #999;\n      height: 50px;\n      min-width: 64px;\n      margin: 0px;\n      border-radius: 0px;\n  } */\n.menu-active[data-v-598ca610] {\n      color: #000;\n      border-style:solid; border-width: 0px 0px 2px 0px; border-color: #000;\n}\n  \n  /* .menu-btn:hover {\n      color: #ffffff;\n      background-color: rgba(99, 99, 99, 0.3)  !important;\n  } */\n\n  /* .menu-btn-o:hover {\n      color: #ffffff;\n  } */\n\n\n  /* .btn--flat {\n      border-radius: 0px;\n  } */\n\n  /* .btn--flat:hover {\n      color: #fff;\n      background-color:black  !important;\n  } */\n\n  /* .md-button-toggle > .md-button:not([disabled]) {\n      color: rgba(0, 0, 0, 0.99);\n  }\n\n  .md-theme-default.md-button-toggle .md-toggle {\n      color: rgba(255, 255, 255, 1);\n      background-color: rgba(0, 0, 0, .77);\n  } */\n\n\n\n"],sourceRoot:""}])},185:function(t,e,n){var r=n(184);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n(162)("7902d17d",r,!0,{})},186:function(t,e,n){function r(t){n(185)}var a=n(25)(n(183),n(187),r,"data-v-598ca610",null);t.exports=a.exports},187:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"my-buttongroup"},[n("v-layout",{attrs:{row:"","align-center":""}},[n("v-flex",{attrs:{xs12:""}},[n("v-layout",{attrs:{"justify-center":"","align-content-space-between":"","align-center":""}},t._l(t.items,function(e){return n("v-btn",t._b({key:e.name,staticClass:"menu-btn body-1",class:{"menu-active":e.url===t.active},attrs:{flat:"",small:""},on:{click:function(n){t.change(e.url)}}},"v-btn",{disabled:t.disabled},!1),[t._v("\n                    "+t._s(e.name)+"\n                ")])}))],1)],1)],1)},staticRenderFns:[]}},188:function(t,e,n){t.exports={default:n(190),__esModule:!0}},190:function(t,e,n){n(72),n(71),t.exports=n(191)},191:function(t,e,n){var r=n(6),a=n(70);t.exports=n(4).getIterator=function(t){var e=a(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},205:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(188),a=n.n(r),o=n(11),c=n.n(o),i=n(10),s=n.n(i),u=n(186),l=n.n(u);e.default={name:"accountSecurity",components:{buttongroup:l.a},props:[],data:function(){return{accountSecurity:{dialog:!1,form:!0,buttonDisabled:!1,bottonLoading1:!1,bottonLoading2:!1,name:"",IDNumber:"",bankCardAccount:"",openingBank:"",btnState:!0},IDCardFront:{state:!1,src:n(271),progress:-1,validate:!0,file:{}},IDCardReverse:{state:!1,src:n(272),progress:-1,validate:!0,file:{}},bankCardFront:{state:!1,src:n(270),progress:-1,validate:!0,file:{}},uploadMap:"",rules:{name:[function(t){return!!t||"姓名不能为空"},function(t){return t.length<=10||"名字不能超过10位"}],IDNumber:[function(t){return!!t||"身份证不能为空"},function(t){return 18===t.length||"身份证号码长度为18位"}],bankCardAccount:[function(t){return/^[0-9]+$/.test(t)||"银行账号必须为数字,且不能为空"},function(t){return t.length<=20||"银行账号过长"}],openingBank:[function(t){return!!t||"请填写开户银行"},function(t){return t.length<30||"信息不能超过30位"}]}}},computed:{user:function(){return this.$store.state.user}},methods:{quit:function(){this.$router.replace({name:"/"})},change:function(t){this.active=t.title,this.$router.replace({path:"/boss"})},openFile:function(t){this.uploadMap=t,this.$refs.file.click()},fileChange:function(){var t=this;return s()(c.a.mark(function e(){var n,r,o,i,u,l,d,v,p,b,f;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.uploadMap,r=t[n],o=t.$store,i=function(t){if("image/jpeg"!==t.type&&"image/png"!==t.type)return"continue";var e=new FileReader;e.onloadend=function(){var e=s()(c.a.mark(function e(a){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.src=a.target.result,r.file=t,r.progress=0,r.validate=!0,e.next=6,o.dispatch("uploadFile",{callbackUrl:"osscallback/",objectKey:"temporaryFile/account/"+o.state.user._id+"/authenticate/"+n+"."+("image/jpeg"===t.type?"jpg":"png"),buf:r});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),e.readAsDataURL(t)},u=!0,l=!1,d=void 0,e.prev=7,v=a()(t.$refs.file.files);case 9:if(u=(p=v.next()).done){e.next=17;break}if(b=p.value,"continue"!==(f=i(b))){e.next=14;break}return e.abrupt("continue",14);case 14:u=!0,e.next=9;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(7),l=!0,d=e.t0;case 23:e.prev=23,e.prev=24,!u&&v.return&&v.return();case 26:if(e.prev=26,!l){e.next=29;break}throw d;case 29:return e.finish(26);case 30:return e.finish(23);case 31:case"end":return e.stop()}},e,t,[[7,19,23,31],[24,,26,30]])}))()},openAccountSecurityDialog:function(){var t=this;return s()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.accountSecurity.buttonDisabled=!0,t.accountSecurity.bottonLoading1=!0,e.next=5,t.$store.dispatch("getWriteAccountStsToken");case 5:t.accountSecurity.dialog=!0,t.accountSecurity.buttonDisabled=!1,t.accountSecurity.bottonLoading1=!1,e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),t.$store.state.errorSnackbar={state:!0,text:e.t0.message},t.accountSecurity.buttonDisabled=!1,t.accountSecurity.bottonLoading1=!1;case 15:case"end":return e.stop()}},e,t,[[0,10]])}))()},InfoAuth:function(){var t=this;return s()(c.a.mark(function e(){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.$refs.br.validate(),t.IDCardFront.validate=t.IDCardFront.state,t.IDCardReverse.validate=t.IDCardReverse.state,t.bankCardFront.validate=t.bankCardFront.state,n&&t.IDCardFront.validate&&t.IDCardReverse.validate&&t.bankCardFront.validate){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,t.$store.dispatch("putRealInformation",{name:t.accountSecurity.name,IDNumber:t.accountSecurity.IDNumber,bankCardAccount:t.accountSecurity.bankCardAccount,openingBank:t.accountSecurity.openingBank});case 9:t.accountSecurity.dialog=!1,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}},e,t,[[0,12]])}))()}},mounted:function(){},beforeCreate:function(){}}},237:function(t,e,n){e=t.exports=n(161)(!0),e.push([t.i,".accountSecurity[data-v-63d1c0d4]{width:100%}.menu-active[data-v-63d1c0d4]{background-color:#bbb}","",{version:3,sources:["E:/program/tujingwang1/program/src/components/account/AccountSecurity.vue"],names:[],mappings:"AACA,kCACI,UAAY,CACf,AACD,8BAEI,qBAAuB,CAC1B",file:"AccountSecurity.vue",sourcesContent:["\n.accountSecurity[data-v-63d1c0d4] {\n    width: 100%;\n}\n.menu-active[data-v-63d1c0d4] {\n    /* color: red; */\n    background-color: #bbb;\n}\n\n"],sourceRoot:""}])},259:function(t,e,n){var r=n(237);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n(162)("3dfab2dd",r,!0,{})},270:function(t,e,n){t.exports=n.p+"static/img/blank.ade122c.jpg"},271:function(t,e,n){t.exports=n.p+"static/img/blank1.7e5ed15.jpg"},272:function(t,e,n){t.exports=n.p+"static/img/blank3.a3e197d.jpg"},287:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"accountSecurity"},[n("input",{ref:"file",staticStyle:{position:"absolute",clip:"rect(0 0 0 0)"},attrs:{type:"file",id:"xFile"},on:{change:function(e){t.fileChange()}}}),t._v(" "),n("v-container",{staticStyle:{padding:"12px","padding-top":"16px"},attrs:{"grid-list-xl":"",fluid:""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-card",{staticStyle:{padding:"24px"}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"text-xs-right",attrs:{xs2:""}},[n("v-card-text",{staticClass:"grey--text"},[t._v("手机绑定")])],1),t._v(" "),n("v-flex",{attrs:{xs8:""}},[n("v-card-text",[t._v("可以使用手机登入")])],1),t._v(" "),n("v-flex",{staticClass:"text-xs-left",attrs:{xs2:""}},[n("v-btn",{staticStyle:{"min-width":"0px"},attrs:{small:"",color:"yellow darken-1 ",disabled:t.accountSecurity.buttonDisabled===!t.accountSecurity.bottonLoading2}},[t._v("绑定")])],1),t._v(" "),n("v-flex",{staticClass:"text-xs-right",attrs:{xs2:""}},[n("v-card-text",{staticClass:"grey--text"},[t._v("账号认证")])],1),t._v(" "),n("v-flex",{attrs:{xs8:""}},[n("v-card-text",[t._v("用于工作人员的身份认证")])],1),t._v(" "),n("v-flex",{staticClass:"text-xs-left",attrs:{xs2:""}},[0===t.user.realInformation.state?n("v-btn",{staticStyle:{"min-width":"0px"},attrs:{small:"",color:"yellow darken-1",disabled:t.accountSecurity.buttonDisabled===!t.accountSecurity.bottonLoading1},on:{click:function(e){t.openAccountSecurityDialog()}}},[t._v("认证")]):1===t.user.realInformation.state?n("v-btn",{staticStyle:{"min-width":"0px"},attrs:{small:"",color:"yellow darken-1",loading:t.accountSecurity.bottonLoading1,disabled:!0}},[t._v("审核中")]):n("v-btn",{staticStyle:{"min-width":"0px"},attrs:{small:"",color:"green "},on:{click:function(t){}}},[t._v("已认证")])],1)],1)],1)],1)],1)],1),t._v(" "),n("v-dialog",{attrs:{persistent:"","max-width":"800px"},model:{value:t.accountSecurity.dialog,callback:function(e){t.$set(t.accountSecurity,"dialog",e)},expression:"accountSecurity.dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"title"},[t._v("\n                        认证\n                    ")])]),t._v(" "),n("v-divider"),t._v(" "),n("v-card-text",[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-form",{ref:"br",attrs:{"lazy-validation":""},model:{value:t.accountSecurity.form,callback:function(e){t.$set(t.accountSecurity,"form",e)},expression:"accountSecurity.form"}},[n("v-text-field",{attrs:{label:"姓名",placeholder:"请输入姓名",counter:10,rules:t.rules.name},model:{value:t.accountSecurity.name,callback:function(e){t.$set(t.accountSecurity,"name",e)},expression:"accountSecurity.name"}}),t._v(" "),n("v-text-field",{attrs:{label:"身份证号码",placeholder:"请输入身份证",counter:18,rules:t.rules.IDNumber},model:{value:t.accountSecurity.IDNumber,callback:function(e){t.$set(t.accountSecurity,"IDNumber",e)},expression:"accountSecurity.IDNumber"}}),t._v(" "),n("v-text-field",{attrs:{label:"银行卡账号",placeholder:"XXXX-XXXX-XXXX-XXXX",counter:20,rules:t.rules.bankCardAccount},model:{value:t.accountSecurity.bankCardAccount,callback:function(e){t.$set(t.accountSecurity,"bankCardAccount",e)},expression:"accountSecurity.bankCardAccount"}}),t._v(" "),n("v-text-field",{attrs:{label:"开户行信息",placeholder:"开户行",counter:30,rules:t.rules.openingBank},model:{value:t.accountSecurity.openingBank,callback:function(e){t.$set(t.accountSecurity,"openingBank",e)},expression:"accountSecurity.openingBank"}})],1),t._v(" "),n("v-container",{attrs:{"grid-list-md":"",fluid:""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs4:""}},[n("v-card",[n("v-card-media",{attrs:{src:t.IDCardFront.src,height:"160px"}},[t.IDCardFront.progress>-1&&t.IDCardFront.progress<1?n("div",{staticStyle:{"background-color":"rgba(0, 0, 0, .7)",width:"100%",display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},[n("v-progress-circular",{attrs:{size:100,width:15,rotate:270,value:100*t.IDCardFront.progress,color:"yellow"}},[t._v("\n                                                        "+t._s(Math.floor(100*t.IDCardFront.progress))+"%\n                                                    ")]),t._v(" "),n("br")],1):t._e()]),t._v(" "),n("v-card-title",{attrs:{"primary-title":""}},[n("div",[t.IDCardFront.validate?n("h3",{staticClass:"subheading mb-0"},[t._v("身份证正面")]):n("h3",{staticClass:"subheading mb-0 red--text"},[t._v("请上传图片")]),t._v(" "),n("div",{staticClass:"caption grey--text"},[t._v("\n                                                        ①.该信息仅用于管理员审核之用，身份信息完全保密。 "),n("br"),t._v("\n                                                        ②.请上传彩色二代身份证"),n("br"),t._v("\n                                                        ③.要求姓名、证件号码、脸部、地址都清晰可见。"),n("br"),t._v("\n                                                        ④.支持JPG，PNG格式"),n("br"),t._v("\n                                                        ⑤.文件须小于5M。\n                                                    ")])])]),t._v(" "),n("v-card-actions",[n("v-btn",{attrs:{flat:"",color:"orange"},on:{click:function(e){t.openFile("IDCardFront")}}},[t._v("选择文件")])],1)],1)],1),t._v(" "),n("v-flex",{attrs:{xs4:""}},[n("v-card",[n("v-card-media",{attrs:{src:t.IDCardReverse.src,height:"160px"}},[t.IDCardReverse.progress>-1&&t.IDCardReverse.progress<1?n("div",{staticStyle:{"background-color":"rgba(0, 0, 0, .7)",width:"100%",display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},[n("v-progress-circular",{attrs:{size:100,width:15,rotate:270,value:100*t.IDCardReverse.progress,color:"yellow"}},[t._v("\n                                                        "+t._s(Math.floor(100*t.IDCardReverse.progress))+"%\n                                                    ")]),t._v(" "),n("br")],1):t._e()]),t._v(" "),n("v-card-title",{attrs:{"primary-title":""}},[n("div",[t.IDCardReverse.validate?n("h3",{staticClass:"subheading mb-0"},[t._v("身份证背面")]):n("h3",{staticClass:"subheading mb-0 red--text"},[t._v("请上传图片")]),t._v(" "),n("div",{staticClass:"caption grey--text"},[t._v("\n                                                        ①.该信息仅用于管理员审核之用，身份信息完全保密。 "),n("br"),t._v("\n                                                        ②.请上传彩色二代身份证"),n("br"),t._v("\n                                                        ③.要求姓名、证件号码、脸部、地址都清晰可见。"),n("br"),t._v("\n                                                        ④.支持JPG，PNG格式"),n("br"),t._v("\n                                                        ⑤.文件须小于5M。\n                                                    ")])])]),t._v(" "),n("v-card-actions",[n("v-btn",{attrs:{flat:"",color:"orange"},on:{click:function(e){t.openFile("IDCardReverse")}}},[t._v("选择文件")])],1)],1)],1),t._v(" "),n("v-flex",{attrs:{xs4:""}},[n("v-card",[n("v-card-media",{attrs:{src:t.bankCardFront.src,height:"160px"}},[t.bankCardFront.progress>-1&&t.bankCardFront.progress<1?n("div",{staticStyle:{"background-color":"rgba(0, 0, 0, .7)",width:"100%",display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},[n("v-progress-circular",{attrs:{size:100,width:15,rotate:270,value:100*t.bankCardFront.progress,color:"yellow"}},[t._v("\n                                                        "+t._s(Math.floor(100*t.bankCardFront.progress))+"%\n                                                    ")]),t._v(" "),n("br")],1):t._e()]),t._v(" "),n("v-card-title",{attrs:{"primary-title":""}},[n("div",[t.bankCardFront.validate?n("h3",{staticClass:"subheading mb-0"},[t._v("银行卡正面")]):n("h3",{staticClass:"subheading mb-0 red--text"},[t._v("请上传图片")]),t._v(" "),n("div",{staticClass:"caption grey--text"},[t._v("\n                                                        ①.该信息仅用于管理员审核之用，卡片信息完全保密。 "),n("br"),t._v("\n                                                        ②.请上传彩色银行卡图片"),n("br"),t._v("\n                                                        ③.要求时间、证件号码、卡片字体都清晰可见。"),n("br"),t._v("\n                                                        ④.支持JPG，PNG格式"),n("br"),t._v("\n                                                        ⑤.文件须小于5M。\n                                                    ")])])]),t._v(" "),n("v-card-actions",[n("v-btn",{attrs:{flat:"",color:"orange"},on:{click:function(e){t.openFile("bankCardFront")}}},[t._v("选择文件")])],1)],1)],1)],1)],1)],1)],1)],1),t._v(" "),t.accountSecurity.btnState?n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{small:"",flat:"",disabled:this.$store.state.appLoading},on:{click:function(e){t.accountSecurity.dialog=!1}}},[t._v("取消")]),t._v(" "),n("v-btn",{staticStyle:{"min-width":"0px"},attrs:{small:"",color:"yellow darken-1",disabled:this.$store.state.appLoading},on:{click:function(e){t.accountSecurity.dialog=!0,t.InfoAuth()}}},[t._v("申请认证")])],1):t._e()],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=2.9ae364c998955a04b726.js.map